<div class="row">
    <section class="col-lg-12">
        <div class="box box-primary">
            <div class="box-header with-border">
                <h3 class="box-title">{% trans %}Loggable{% endtrans %}</h3>
            </div>
            <div class="box-body">
                <table class="table table-striped table-responsive">
                    <thead>
                    <tr>
                        <th scope="col">{% trans %}User{% endtrans %}</th>
                        <th scope="col">{% trans %}Action{% endtrans %}</th>
                        <th scope="col">{% trans %}Entity{% endtrans %}</th>
                        <th scope="col">{% trans %}Date{% endtrans %}</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for item in data %}
                        {% if item.action == 'create' %}
                            {% set labelAction = 'success' %}
                        {% elseif item.action == 'remove' %}
                            {% set labelAction = 'danger' %}
                        {% else %}
                            {% set labelAction = 'info' %}
                        {% endif %}
                        {% set objectClass = item.objectClass|split('\\')  %}
                        <tr>
                            <td>{{ item.username }}</td>
                            <td>
                                <span class="label label-{{ labelAction }}">
                                    {{ item.action|trans({'%action%': item.action}) }}
                                </span>
                            </td>
                            <td>{{ objectClass|last|trans({'%objectClass%': objectClass|last}) }} </td>
                            <td>{{ item.loggedAt }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>
